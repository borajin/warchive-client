(this.webpackJsonpwarchive_client_app=this.webpackJsonpwarchive_client_app||[]).push([[0],{46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),r=a(20),l=a.n(r),n=a(10),o=a(8),i=a(11),d=a.n(i),b=a(21),j=a(4),_=a(5),h=a(3),u=a(7),m=a(6),y=a(22),p=a.n(y),f=(a(46),a(0));var O=function(e){var t=e.wata_id,a=e.title,s=e.creator,c=e.category,r=e.sub_category,l=e.genre,n=e.keywords,o=e.cautions,i=e.platforms,d=e.thumnail,b={backgroundImage:"url(".concat(d,")"),backgroundSize:"100%"};return Object(f.jsxs)("div",{className:"wata",style:b,children:[Object(f.jsxs)("div",{className:"wata__header",children:[Object(f.jsxs)("div",{className:"header__row header__titles",children:[Object(f.jsx)("h3",{className:"header__title",children:a}),Object(f.jsx)("span",{className:"header__bookmark",id:t,children:Object(f.jsx)("i",{className:"fas fa-star"})})]}),Object(f.jsx)("div",{className:"header__row header__creator",children:Object(f.jsx)("span",{className:"wata__creator",children:s})}),Object(f.jsxs)("div",{className:"header__row header__categorys",children:[Object(f.jsxs)("span",{className:"categorys__category wata__category",children:["#",c]}),Object(f.jsxs)("span",{className:"categorys__category wata__sub-category",children:["#",r]}),Object(f.jsxs)("span",{className:"categorys__category wata__genre",children:["#",l]})]})]}),Object(f.jsx)("div",{className:"wata__body",children:Object(f.jsxs)("div",{className:"body__column",children:[Object(f.jsx)("ul",{className:"wata__platforms",children:i.map((function(e,t){return Object(f.jsx)("li",{className:"platforms__platform",children:Object(f.jsx)("a",{href:e.url,children:Object(f.jsx)("span",{children:e.name})})},t)}))}),Object(f.jsx)("div",{className:"body__column",children:Object(f.jsx)("ul",{className:"wata__keywords",children:n.map((function(e,t){return Object(f.jsx)("li",{className:"keywords__keyword",children:Object(f.jsxs)("span",{children:["#",e]})},t)}))})})]})}),Object(f.jsx)("div",{className:"wata__footer",children:Object(f.jsx)("ul",{className:"footer__cautions",children:o.map((function(e,t){return Object(f.jsx)("li",{className:"cautions__caution",children:Object(f.jsxs)("span",{children:["#",e]})},t)}))})})]})},k=(a(48),a(49),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(_.a)(a,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"searchbar__container",children:Object(f.jsx)("input",{className:"search__input",type:"search",placeholder:"\uc81c\ubaa9/\uc791\uac00/\uac10\ub3c5\uba85\uc73c\ub85c \uac80\uc0c9",onChange:this.props.search_searchbar})})}}]),a}(c.a.Component));a(50);function x(e){return Object(f.jsx)("div",{className:"selected-keyword-list__bubble",onClick:function(){e.addSelectedBubble(e.name,"delete",e.value),e.delete(e.list,e.name,e.value),console.log(e.list)},children:e.value})}function w(e){return Object(f.jsxs)("div",{className:"bubble-list__bubble",children:[Object(f.jsx)("input",{type:"checkbox",name:e.name,value:e.value}),Object(f.jsx)("label",{for:e.name,onClick:function(){e.addSelectedBubble(e.name,"add",e.value),e.select(e.name,e.value)},children:e.value})]})}function v(e){return Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"keywordbar__selected-keyword-list",children:e.selected_keyword?e.selected_keyword.map((function(t){return Object(f.jsx)(x,{list:e.selected_keyword,name:t.name,value:t.value,addSelectedBubble:e.addSelectedBubble,delete:e.delete})})):Object(f.jsx)("div",{})})})}function g(e){return Object(f.jsxs)("div",{className:"keywordbar__keyword-box",children:[Object(f.jsx)("h3",{className:"keyword-box__header",children:e.header}),Object(f.jsx)("div",{className:"keyword-box__bubble-list",children:e.value.map((function(t){return Object(f.jsx)(w,{name:e.name,value:t,addSelectedBubble:e.addSelectedBubble,select:e.select})}))})]})}var N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={keywordbar_state:!1,selected_keyword:[],category:[],sub_category:[],genre:[],platform:[],keyword:[]},e.category?s.state={keywordbar_state:!1,selected_keyword:[],category:e.category,sub_category:e.sub_category,genre:e.genre,platform:e.platform,keyword:e.keyword}:s.state={keywordbar_state:!1,selected_keyword:[],category:[],sub_category:[],genre:[],platform:[],keyword:[]},s.select=s.select.bind(Object(h.a)(s)),s.delete=s.delete.bind(Object(h.a)(s)),s}return Object(_.a)(a,[{key:"delete",value:function(e,t,a){console.log(e),console.log(t),console.log(a);var s=e.filter((function(e){if(e.name!=t||e.value!=a)return e}));this.setState({selected_keyword:s})}},{key:"select",value:function(e,t){this.setState({selected_keyword:[].concat(Object(o.a)(this.state.selected_keyword),[{name:e,value:t}])})}},{key:"render",value:function(){var e=this,t=this.state,a=t.keywordbar_state,s=t.category,c=t.sub_category,r=t.genre,l=t.platform,n=t.keyword,o=t.selected_keyword;return console.log("selected_keyword: "),console.log(o),Object(f.jsxs)("div",{className:"keywordbar",children:[Object(f.jsx)("div",{className:"keywordbar__selected-bubble-box",children:Object(f.jsx)(v,{selected_keyword:o,addSelectedBubble:this.props.search_keywordbar,delete:this.delete})}),Object(f.jsxs)("div",{className:"keywordbar__container",style:a?{height:"400px"}:{height:"0px"},children:[Object(f.jsx)(g,{name:"category",header:"\uce74\ud14c\uace0\ub9ac",value:s,addSelectedBubble:this.props.search_keywordbar,select:this.select}),Object(f.jsx)(g,{name:"sub_category",header:"\uc11c\ube0c\uce74\ud14c\uace0\ub9ac",value:c,addSelectedBubble:this.props.search_keywordbar,select:this.select}),Object(f.jsx)(g,{name:"genre",header:"\uc7a5\ub974",value:r,addSelectedBubble:this.props.search_keywordbar,select:this.select}),Object(f.jsx)(g,{name:"platform",header:"\ud50c\ub7ab\ud3fc",value:l,addSelectedBubble:this.props.search_keywordbar,select:this.select}),Object(f.jsx)(g,{name:"keyword",header:"\ud0a4\uc6cc\ub4dc",value:n,addSelectedBubble:this.props.search_keywordbar,select:this.select})]}),Object(f.jsx)("div",{className:"keywordbar__button",onClick:function(){e.setState({keywordbar_state:!a})},children:Object(f.jsx)("span",{className:"button__text",children:"\ud0a4\uc6cc\ub4dc\ub85c \ucc3e\uae30"})})]})}}]),a}(c.a.Component);a(51);function S(e){return Object(f.jsx)("div",{className:"header__container",children:Object(f.jsxs)("div",{className:"header",children:[Object(f.jsxs)("div",{className:"header__header-column",children:[Object(f.jsx)("div",{className:"header__title",children:Object(f.jsx)("a",{href:".",children:Object(f.jsx)("img",{className:"title__logo",src:"https://i.ibb.co/WtWVG8r/logo.png",alt:"warchive logo"})})}),Object(f.jsxs)("span",{className:"header__icon bookmark",onClick:e.open_bookmark,children:[Object(f.jsx)("i",{className:"fas fa-star"}),Object(f.jsx)("span",{className:"icon__label",children:"\uc990\uaca8\ucc3e\uae30 \ubaa9\ub85d"})]}),Object(f.jsxs)("span",{className:"header__icon email-popup",onClick:e.open_mail,children:[Object(f.jsx)("i",{className:"fas fa-envelope"}),Object(f.jsx)("span",{className:"icon__label",children:"\ucd94\ucc9c\uc791 \uc81c\ubcf4/\ubb38\uc758"})]})]}),Object(f.jsx)("div",{className:"header__header-column",children:Object(f.jsx)("span",{className:"header__icon",children:Object(f.jsx)("i",{className:"fas fa-question-circle"})})})]})})}a(52);function B(e){return console.log(e.open_mail_flag),Object(f.jsx)("div",{class:"email",style:e.open_mail_flag?{opacity:"1",zIndex:"1"}:{opacity:"0",zIndex:"-1"},children:Object(f.jsxs)("div",{class:"email__popup",children:[Object(f.jsxs)("div",{class:"popup__header",children:[Object(f.jsxs)("div",{class:"header__colomn",children:[Object(f.jsx)("i",{class:"fas fa-envelope"}),Object(f.jsx)("span",{class:"icon__label",children:"\ucd94\ucc9c\uc791 \uc81c\ubcf4 \ubc0f \ubb38\uc758"})]}),Object(f.jsx)("div",{class:"header__colomn",children:Object(f.jsx)("div",{class:"close-button",onClick:e.close_mail,children:Object(f.jsx)("i",{class:"fas fa-times"})})})]}),Object(f.jsx)("div",{class:"popup__body",children:Object(f.jsxs)("form",{id:"contact-form",children:[Object(f.jsx)("input",{type:"hidden",name:"contact_number"}),Object(f.jsxs)("div",{class:"body__colomn",children:[Object(f.jsx)("label",{children:"\uba54\uc77c \uc720\ud615"}),Object(f.jsxs)("select",{name:"email_type",children:[Object(f.jsx)("option",{id:"title",value:"\ucd94\ucc9c\uc791 \uc81c\ubcf4",children:"\ucd94\ucc9c\uc791 \uc81c\ubcf4"}),Object(f.jsx)("option",{id:"creator",value:"\ubb38\uc758",children:"\ubb38\uc758"})]})]}),Object(f.jsxs)("div",{class:"body__colomn",children:[Object(f.jsx)("label",{children:"\uc774\ub984"}),Object(f.jsx)("input",{type:"text",name:"user_name",value:"\uc775\uba85"})]}),Object(f.jsxs)("div",{class:"body__colomn",children:[Object(f.jsx)("label",{children:"\ub2f5\uc2e0\ubc1b\uc744 \uc774\uba54\uc77c"}),Object(f.jsx)("input",{type:"email",name:"user_email",value:"noname@email.com"})]}),Object(f.jsx)("textarea",{name:"message",rows:"10"}),Object(f.jsx)("input",{type:"submit",value:"Send"})]})})]})})}var C=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var s;return Object(j.a)(this,a),(s=t.call(this,e)).state={isBookmark:!1,isMail:!1,isLoading:!0,wata_list:[],keyword_list:[],searchKeyword:"",selected_categorys:[],selected_sub_categorys:[],selected_genres:[],selected_platforms:[],selected_keywords:[],bookmark_list:[1,2,3]},s.search_searchbar=function(e){s.setState({searchKeyword:e.target.value})},s.getWataList=Object(b.a)(d.a.mark((function e(){var t,a,c,r,l,n,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("http://warchive.pythonanywhere.com/api/?type=data");case 2:t=e.sent,a=t.data.wata_list,c=[],r=[],l=[],n=[],o=[],a.map((function(e){return c.push(e.category),r.push(e.sub_category),l.push(e.genre),e.platforms.map((function(e){""!=e.name&&n.push(e.name)})),e.keywords.map((function(e){""!=e&&o.push(e)})),0})),s.setState({wata_list:a,keyword_list:{category:Array.from(new Set(c)),sub_category:Array.from(new Set(r)),genre:Array.from(new Set(l)),platform:Array.from(new Set(n)),keyword:Array.from(new Set(o))},isLoading:!1});case 11:case"end":return e.stop()}}),e)}))),s.state={isBookmark:!1,isMail:!1,isLoading:!0,wata_list:[],keyword_list:[],searchKeyword:"",selected_categorys:[],selected_sub_categorys:[],selected_genres:[],selected_platforms:[],selected_keywords:[],bookmark_list:[1,2,3]},s.search_keywordbar=s.search_keywordbar.bind(Object(h.a)(s)),s.search_searchbar=s.search_searchbar.bind(Object(h.a)(s)),s.open_bookmark=s.open_bookmark.bind(Object(h.a)(s)),s.open_mail=s.open_mail.bind(Object(h.a)(s)),s.close_mail=s.close_mail.bind(Object(h.a)(s)),s}return Object(_.a)(a,[{key:"open_bookmark",value:function(){this.setState({isBookmark:!0,isMail:!1})}},{key:"open_mail",value:function(){this.setState({isMail:!0})}},{key:"close_mail",value:function(){this.setState({isMail:!1}),console.log("close")}},{key:"delete",value:function(e,t){return e.filter((function(e){if(e!=t)return e}))}},{key:"search_keywordbar",value:function(e,t,a){this.setState({searchKeyword:""});var s="selected_"+e+"s",c=[];"category"==e?c=this.state.selected_categorys:"sub_category"==e?c=this.state.selected_sub_categorys:"genre"==e?c=this.state.selected_genres:"platform"==e?c=this.state.selected_platforms:"keyword"==e&&(c=this.state.selected_keywords),"add"==t?c.includes(a)||this.setState(Object(n.a)({},s,[].concat(Object(o.a)(c),[a]))):this.setState(Object(n.a)({},s,this.delete(c,a)))}},{key:"componentDidMount",value:function(){this.getWataList()}},{key:"render",value:function(){var e=this,t=this.state,a=t.isLoading,s=t.wata_list,c=t.keyword_list,r=[];return this.state.isBookmark?s.filter((function(t){e.state.bookmark_list.map((function(e){t.wata_id==e&&r.push(t)}))})):""!==this.state.searchKeyword?r=s.filter((function(t){if(t.title.indexOf(e.state.searchKeyword)>-1||t.creator.indexOf(e.state.searchKeyword)>-1)return t})):(r=[[],[],[],[],[]],this.state.selected_categorys.map((function(e){var t=s.filter((function(t){if(t.category==e)return t}));r[0]=r[0].concat(t)})),this.state.selected_sub_categorys.map((function(e){var t=s.filter((function(t){if(t.sub_category==e)return t}));r[1]=r[1].concat(t)})),this.state.selected_genres.map((function(e){var t=s.filter((function(t){if(t.genre==e)return t}));r[2]=r[2].concat(t)})),this.state.selected_platforms.map((function(e){var t=[];s.filter((function(a){a.platforms.map((function(s){s.name==e&&t.push(a)}))})),r[3]=r[3].concat(t)})),this.state.selected_keywords.map((function(e){var t=s.filter((function(t){if(t.keywords.includes(e))return t}));r[4]=r[4].concat(t)})),console.log(r),(r=r.filter((function(e){if(e.length>0)return e}))).length<=0?r=s:(r=r.reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))})),console.log("result : "),console.log(r))),Object(f.jsxs)("div",{className:"root_container",children:[Object(f.jsx)(S,{open_bookmark:this.open_bookmark,open_mail:this.open_mail}),Object(f.jsx)(B,{close_mail:this.close_mail,open_mail_flag:this.state.isMail}),Object(f.jsxs)("section",{className:"container",children:[a?Object(f.jsx)("div",{className:"loader",children:Object(f.jsx)("span",{className:"loader__text",children:"Loading..."})}):Object(f.jsxs)("div",{className:"container__box",children:[this.state.isBookmark?Object(f.jsx)("div",{}):Object(f.jsxs)("div",{className:"serachbar",children:[Object(f.jsx)(N,{category:c.category,sub_category:c.sub_category,genre:c.genre,platform:c.platform,keyword:c.keyword,search_keywordbar:this.search_keywordbar,isBookmark:this.state.isBookmark}),Object(f.jsx)(k,{search_searchbar:this.search_searchbar})]}),Object(f.jsx)("div",{className:"wata_list",children:r.map((function(e){if("Y"!=e.isDelete)return Object(f.jsx)(O,{wata_id:e.wata_id,title:e.title,creator:e.creator,category:e.category,sub_category:e.sub_category,genre:e.genre,keywords:e.keywords,cautions:e.cautions,platforms:e.platforms,thumnail:e.thumnail},e.wata_id)}))})]}),this.state.isBookmark?Object(f.jsxs)("div",{className:"bookmark-share__container",children:[Object(f.jsx)("span",{class:"bookmark_caution",children:"\uc778\ud130\ub137 \uae30\ub85d,\ucfe0\ud0a4 \ub4f1\uc744 \uc0ad\uc81c\ud558\uc2dc\uba74 \uc990\uaca8\ucc3e\uae30 \ubaa9\ub85d\uc774 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4."}),Object(f.jsxs)("div",{class:"share_button__container",children:[Object(f.jsx)("span",{class:"share_label",children:"\ub9ac\uc2a4\ud2b8 \uacf5\uc720\ud558\uae30"}),Object(f.jsx)("div",{class:"share_button twitter",children:Object(f.jsx)("i",{class:"fab fa-twitter"})}),Object(f.jsx)("div",{class:"share_button facebook",children:Object(f.jsx)("i",{class:"fab fa-facebook-f"})})]})]}):Object(f.jsx)("div",{})]})]})}}]),a}(c.a.Component);l.a.render(Object(f.jsx)(C,{}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.02ed6047.chunk.js.map